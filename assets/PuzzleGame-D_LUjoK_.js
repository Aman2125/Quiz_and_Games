import{r as a,j as o,B as u,J as z}from"./index-Cob3UKuM.js";import{G as w}from"./GameLayout-BD15eL7F.js";const N=()=>{const[l,c]=a.useState([]),[r,i]=a.useState(!1),[n,d]=a.useState(0),h=()=>{const s=Array.from({length:15},(t,e)=>e+1);s.push(0),f(s)},f=s=>{for(let t=s.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[s[t],s[e]]=[s[e],s[t]]}c(s),i(!1),d(0)},m=s=>{if(r)return;const t=l.indexOf(0);if(!p(s,t))return;const e=[...l];[e[s],e[t]]=[e[t],e[s]],c(e),d(n+1),v(e)&&(i(!0),z.success("Congratulations! You solved the puzzle!",{description:`You completed it in ${n+1} moves!`}))},p=(s,t)=>{const e=Math.floor(s/4),x=s%4,g=Math.floor(t/4),j=t%4;return Math.abs(e-g)+Math.abs(x-j)===1},v=s=>s.every((t,e)=>e===s.length-1?t===0:t===e+1);return a.useEffect(()=>{h()},[]),o.jsx(w,{title:"15 Puzzle",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("div",{className:"grid grid-cols-4 gap-2 p-4 bg-card rounded-lg shadow-lg",children:l.map((s,t)=>o.jsx(u,{onClick:()=>m(t),variant:s===0?"ghost":"secondary",className:`h-16 w-full text-xl font-bold ${s===0?"invisible":""} transition-all hover:scale-105`,disabled:r,children:s===0?"":s},t))}),o.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[o.jsxs("p",{className:"text-lg",children:["Moves: ",n]}),o.jsx(u,{onClick:()=>h(),variant:"outline",children:"New Game"})]})]})})};export{N as PuzzleGame};
