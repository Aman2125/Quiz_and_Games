import{r as a,t as j,j as o,B as b}from"./index-Cob3UKuM.js";import{G as E}from"./GameLayout-BD15eL7F.js";const r=20,s=20,I=[{x:10,y:10}],k={x:1,y:0};function g(){const[p,u]=a.useState(I),[d,n]=a.useState(k),[c,S]=a.useState({x:15,y:15}),[i,x]=a.useState(!1),[y,h]=a.useState(0),m=a.useCallback(()=>{const e=Math.floor(Math.random()*r),t=Math.floor(Math.random()*r);S({x:e,y:t})},[]),v=()=>{u(I),n(k),m(),h(0),x(!1)},f=a.useCallback(()=>{i&&u(e=>{const t={x:(e[0].x+d.x+r)%r,y:(e[0].y+d.y+r)%r};if(e.some(l=>l.x===t.x&&l.y===t.y))return x(!1),j({title:"Game Over!",description:`Final Score: ${y}`}),e;const w=[t,...e];return t.x===c.x&&t.y===c.y?(h(l=>l+1),m()):w.pop(),w})},[d,c,m,i,y]);return a.useEffect(()=>{const e=t=>{switch(t.key){case"ArrowUp":n({x:0,y:-1});break;case"ArrowDown":n({x:0,y:1});break;case"ArrowLeft":n({x:-1,y:0});break;case"ArrowRight":n({x:1,y:0});break}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),a.useEffect(()=>{const e=setInterval(f,100);return()=>clearInterval(e)},[f]),o.jsx(E,{title:"Snake Game",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"mb-4",children:["Score: ",y]}),o.jsxs("div",{className:"border border-primary mb-4",style:{width:r*s,height:r*s,position:"relative"},children:[p.map((e,t)=>o.jsx("div",{className:"bg-primary absolute",style:{width:s,height:s,left:e.x*s,top:e.y*s}},t)),o.jsx("div",{className:"bg-destructive absolute",style:{width:s,height:s,left:c.x*s,top:c.y*s}})]}),o.jsxs("div",{className:"space-x-2",children:[o.jsx(b,{onClick:()=>x(!i),children:i?"Pause":"Start"}),o.jsx(b,{onClick:v,variant:"outline",children:"Reset"})]})]})})}export{g as SnakeGame};
